version: '3.8'

services:
  agent-fleet:
    build: .
    ports:
      - "8420:8420"
    volumes:
      # Mount the standard history directories as read-only, so the dashboard
      # can index and summarize historical sessions.
      - ~/.claude:/root/.claude:ro
      - ~/.gemini:/root/.gemini:ro
      # Mount the data directory so the SQLite database persists across container restarts
      - agent-fleet-data:/root/.agent-fleet
    environment:
      # Pass through the timezone if needed
      - TZ=${TZ:-UTC}
    restart: unless-stopped

volumes:
  agent-fleet-data:
